(()=>{"use strict";var n={426:(n,e,t)=>{t.d(e,{Z:()=>i});var r=t(81),a=t.n(r),c=t(645),o=t.n(c)()(a());o.push([n.id,"/*\r\nPRIMARY\r\n#546e7a\r\n#819ca9 - light\r\n#29434e - dark\r\n#ffffff - font\r\n\r\nSECONDARY\r\n#ffe0b2\r\n#ffffe4 - light\r\n#cbae82 - dark \r\n#000000 - text\r\n*/\r\n* {\r\n    color: #000000;\r\n}\r\n\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-size: 20px;\r\n    font-family: sans-serif;\r\n    background-color: #819ca9;\r\n    padding-bottom: 40px;\r\n}\r\n\r\nsvg {\r\n    width: 100px;\r\n    height: 60px;\r\n}\r\n\r\n.container {\r\n    margin: 0 auto;\r\n    width: 95%;\r\n    position: relative;\r\n}\r\n\r\n.navigation {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    gap: 20px;\r\n    position: relative;\r\n    z-index: 2;\r\n}\r\n\r\ninput[type=radio] {\r\n    display: none;\r\n}\r\n\r\nlabel, .nav_buttons {\r\n    padding: 5px;\r\n    border: 2px solid #ffe0b2;\r\n    border-radius: 4px;\r\n    box-shadow: #29434e 0px 10px 30px;\r\n    font-size: 20px;\r\n    font-family: sans-serif;\r\n    background-color: #819ca9;\r\n}\r\n\r\n.nav_buttons:disabled {\r\n    background-color: #648491;\r\n}\r\n\r\nlabel:hover, button:hover, .controls button:hover {\r\n    cursor: pointer;\r\n    box-shadow: #778c96 0px 10px 30px;\r\n    transition: 0.3s;\r\n}\r\n\r\n.customization {\r\n    margin-top: 20px;\r\n    width: 25%;\r\n    display: grid;\r\n    grid-template-columns: 5fr 1fr 2fr;\r\n    grid-gap: 10px;\r\n}\r\n\r\n.customization *, .controls button {\r\n    border: none;\r\n    border-radius: 5px;\r\n    box-shadow: #29434e 0px 10px 30px;\r\n}\r\n\r\n.controls {\r\n    margin-top: 20px;\r\n    display: grid;\r\n    width: 25%;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    grid-template-rows: 25px;\r\n    gap: 10px;\r\n}\r\n\r\n.car .controls {\r\n    margin-top: 0;\r\n    grid-template-columns: 1fr 1fr 2fr;\r\n}\r\n\r\n.controls h3 {\r\n    margin: 0;\r\n}\r\n\r\n.path {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    gap: 5px;\r\n    align-items: center;\r\n    width: 100%;\r\n}\r\n\r\n.path button {\r\n    width: 30px;\r\n    height: 30px;\r\n    border: 2px solid grey;\r\n    border-radius: 6px;\r\n    font-weight: 600;\r\n}\r\n\r\nhr {\r\n    margin: 0;\r\n    padding: 0;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n#start {\r\n    background-color: greenyellow;\r\n}\r\n\r\n#stop {\r\n    background-color: red;\r\n}\r\n\r\n.finish_flag {\r\n    margin-left: auto;\r\n}\r\n\r\n.notification {\r\n    position: absolute;\r\n    width: 99vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    animation: append-animate .5s linear;\r\n}\r\n\r\n.notification p {\r\n    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\r\n    background: -webkit-linear-gradient(rgb(212, 59, 59), rgb(65, 93, 183));\r\n    -webkit-background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n    letter-spacing: 0.05em;\r\n    font-style: italic;\r\n    font-size: 50px;\r\n}\r\n\r\n.notification span {\r\n    font-weight: 800;\r\n}\r\n\r\n@keyframes append-animate {\r\n    from {\r\n        transform: scale(0);\r\n        opacity: 0;\r\n    }\r\n\r\n    to {\r\n        transform: scale(1);\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n.winners {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 1;\r\n    background-color: #819ca9;\r\n    margin-top: 20px;\r\n}\r\n\r\n.display {\r\n    display: none !important;\r\n}\r\n\r\ntable {\r\n    border-spacing: 0;\r\n}\r\n\r\nthead {\r\n    background-color: rgb(95, 95, 236);\r\n    font-weight: 600;\r\n    font-style: normal;\r\n    padding: 5px;\r\n}\r\n\r\ntbody th {\r\n    font-weight: normal !important;\r\n}\r\n\r\nthead th {\r\n    padding: 10px 30px 10px 30px;\r\n}\r\n\r\ntable {\r\n    border: 3px solid white;\r\n    border-radius: 5px;\r\n}\r\n\r\ntable svg {\r\n    width: 100px;\r\n}\r\n\r\n#winner_id:hover, #winner_wins:hover, #winner_time:hover{\r\n    cursor: pointer;\r\n}",""]);const i=o},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,a,c){"string"==typeof n&&(n=[[null,n,void 0]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);r&&o[l[0]]||(void 0!==c&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=c),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var c={},o=[],i=0;i<n.length;i++){var s=n[i],d=r.base?s[0]+r.base:s[0],l=c[d]||0,u="".concat(d," ").concat(l);c[d]=l+1;var p=t(u),g={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)e[p].references++,e[p].updater(g);else{var m=a(g,r);r.byIndex=i,e.splice(i,0,{identifier:u,updater:m,references:1})}o.push(u)}return o}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var c=r(n=n||[],a=a||{});return function(n){n=n||[];for(var o=0;o<c.length;o++){var i=t(c[o]);e[i].references--}for(var s=r(n,a),d=0;d<c.length;d++){var l=t(c[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}c=s}}},569:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var c=t.sourceMap;c&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},642:()=>{document.getElementById("body").innerHTML='\n<div class="container">\n        <div class="navigation">\n            <button class="nav_buttons" id="garage">Garage</button>\n            <button class="nav_buttons" id="winners">Winners</button>\n        </div>\n        <div class="garage-container">\n            <div class="customization">\n                <input type="text" name="" id="car-create-name">\n                <input type="color" name="" id="car-create-color" value="#4ea1c4">\n                <button class="button" id="create">Create</button>\n                <input type="text" name="" id="car-edit-name">\n                <input type="color" name="" id="car-edit-color" value="#ff0000">\n                <button class="button" id="update">Update</button>\n            </div>\n            <div class="controls">\n                <button id="race">Race</button>\n                <button id="reset">Reset</button>\n                <button id="generate">Generate cars</button>\n            </div>\n            <div class="garage">\n                <h2>Garage (<span id="garage-counter">0</span>)</h2>\n                <h3>Page #<span id="page-counter">1</span></h3>\n                <div id="garage-wrapper">\n                    \x3c!-- cars will be here --\x3e\n                </div>\n            </div>\n            <div class="controls">\n                <button id="prev_page">Previous</button>\n                <button id="next_page">Next</button>\n            </div>\n        </div>\n    </div>\n'}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var c=e[r]={id:r,exports:{}};return n[r](c,c.exports,t),c.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{t(642);var n=t(379),e=t.n(n),r=t(795),a=t.n(r),c=t(569),o=t.n(c),i=t(565),s=t.n(i),d=t(216),l=t.n(d),u=t(589),p=t.n(u),g=t(426),m={};m.styleTagTransform=p(),m.setAttributes=s(),m.insert=o().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=l(),e()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;const h="http://localhost:3000",v=`${h}/garage`,f=`${h}/engine`,y=`${h}/winners`,b=async n=>(await fetch(`${v}/${n}`)).json(),w=async n=>(await fetch(v,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}})).json(),_=async n=>(await fetch(`${f}?id=${n}&status=started`,{method:"PATCH"})).json(),M=async n=>{const e=await fetch(`${f}?id=${n}&status=drive`,{method:"PATCH"}).catch();return 200!==e.status?{success:!1}:Object.assign({},await e.json())};localStorage.current_page=1,localStorage.id_to_edit=0;let x=[];async function E(){const n=Number(localStorage.current_page),e=await(async(n,e=7)=>{const t=await fetch(`${v}?_page=${n}&_limit=${e}`);return{items:await t.json(),count:t.headers.get("X-Total-Count")}})(n);let t="";document.getElementById("garage-counter").textContent=String(e.count),document.getElementById("page-counter").textContent=String(n),e.items.forEach((n=>{t+=`\n        <div class="car" id="${n.id}">\n                    <div class="controls">\n                        <button class="button select" id="select_${n.id}">Select</button>\n                        <button class="button remove" id="remove_${n.id}">Remove</button>\n                        <h3>${n.name}</h3>\n                    </div>\n                    <div class="path">\n                        <button id="start_${n.id}" class="start">A</button>\n                        <button id="stop_${n.id}" class="stop">B</button>\n                        <svg enable-background="new 0 0 1000 600" height="600" id="car_${n.id}" overflow="visible" version="1.1"\n                            viewBox="0 0 1000 600" width="1000" xml:space="preserve">\n                            <g id="">\n                                <g>\n                                    <path\n                                        d="M251.072,391.644c-1.449,0-2.624,1.175-2.624,2.624s1.175,2.624,2.624,2.624s2.624-1.175,2.624-2.624    S252.521,391.644,251.072,391.644z M251.072,374.076c-3.419,0-6.19,2.771-6.19,6.19s2.771,6.19,6.19,6.19s6.191-2.771,6.191-6.19    S254.491,374.076,251.072,374.076z M242.251,361.612c0.607-0.288,1.229-0.548,1.867-0.776v-21.254    c-6.215,1.055-11.957,3.5-16.895,7.002L242.251,361.612z M251.072,312.688c-37.322,0-67.578,30.256-67.578,67.578    s30.255,67.578,67.578,67.578s67.578-30.256,67.578-67.578S288.395,312.688,251.072,312.688z M251.072,428.537    c-26.659,0-48.27-21.611-48.27-48.271c0-26.658,21.611-48.27,48.27-48.27s48.27,21.611,48.27,48.27    C299.342,406.926,277.731,428.537,251.072,428.537z M258.025,399.698v21.253c6.216-1.055,11.958-3.499,16.896-7.002    l-15.028-15.028C259.286,399.209,258.664,399.47,258.025,399.698z M270.502,373.313h21.256    c-1.056-6.216-3.499-11.958-7.002-16.896l-15.027,15.027C270.016,372.052,270.273,372.676,270.502,373.313z M269.727,389.087    l15.028,15.028c3.503-4.938,5.948-10.68,7.002-16.896h-21.254C270.275,387.857,270.014,388.48,269.727,389.087z M227.224,413.948    c4.938,3.503,10.679,5.948,16.895,7.003v-21.253c-0.638-0.229-1.259-0.49-1.866-0.778L227.224,413.948z M262.45,380.266    c0,1.449,1.175,2.624,2.624,2.624s2.624-1.175,2.624-2.624s-1.175-2.624-2.624-2.624S262.45,378.816,262.45,380.266z     M274.92,346.585c-4.938-3.502-10.679-5.948-16.895-7.003v21.254c0.638,0.228,1.259,0.49,1.866,0.777L274.92,346.585z     M251.072,368.889c1.449,0,2.624-1.175,2.624-2.624s-1.175-2.624-2.624-2.624s-2.624,1.175-2.624,2.624    S249.623,368.889,251.072,368.889z M231.643,387.22h-21.256c1.055,6.216,3.498,11.958,7.002,16.896l15.027-15.027    C232.129,388.481,231.872,387.857,231.643,387.22z M232.418,371.446l-15.028-15.028c-3.503,4.938-5.948,10.68-7.002,16.896h21.254    C231.87,372.675,232.131,372.053,232.418,371.446z M239.695,380.266c0-1.449-1.175-2.624-2.624-2.624    c-1.449,0-2.625,1.175-2.625,2.624s1.175,2.624,2.625,2.624C238.52,382.89,239.695,381.715,239.695,380.266z M785.336,374.076    c-3.419,0-6.19,2.771-6.19,6.19s2.771,6.19,6.19,6.19s6.19-2.771,6.19-6.19S788.755,374.076,785.336,374.076z M785.336,391.644    c-1.449,0-2.624,1.175-2.624,2.624s1.175,2.624,2.624,2.624s2.624-1.175,2.624-2.624S786.785,391.644,785.336,391.644z     M804.766,373.313h21.256c-1.056-6.216-3.499-11.958-7.002-16.896l-15.028,15.027    C804.279,372.052,804.537,372.676,804.766,373.313z M785.336,312.688c-37.322,0-67.578,30.256-67.578,67.578    s30.256,67.578,67.578,67.578s67.578-30.256,67.578-67.578S822.658,312.688,785.336,312.688z M785.336,428.537    c-26.658,0-48.27-21.611-48.27-48.271c0-26.658,21.611-48.27,48.27-48.27c26.659,0,48.27,21.611,48.27,48.27    C833.605,406.926,811.995,428.537,785.336,428.537z M803.99,389.087l15.028,15.028c3.503-4.938,5.947-10.68,7.002-16.896h-21.254    C804.539,387.857,804.278,388.48,803.99,389.087z M936.447,342.828c-1.252-1.845-4.856-2.665-5.915-4.436    c-1.417-2.369-1.364-7.17-2.465-9.858c-9.218-22.513-19.371-29.408-32.532-37.461c-18.479-11.308-38.207-15.987-60.135-24.153    c1.057,0.394-33.068-8.901-41.404-10.351c-5.126-1.68-23.627-7.028-28.096-5.422c-4.913-5.075-13.582-7.57-19.717-11.337    c-9.902-6.081-20.112-12.629-30.067-18.73c-5.321-3.262-10.92-5.121-16.266-8.38c-13.837-8.436-44.362-22.181-44.362-22.181    s-112.554-63.401-509.176-28.589c-4.79,0.466-10.684,0.14-14.294,2.465c-0.493,0.164-0.986,0.328-1.479,0.492    c0.087,3.815,1.864,15.823,0,18.73c-0.563,4.381-9.026,11.135-11.83,14.295c-6.536,7.366-13.401,15.301-19.223,23.167    c-2.676,3.615-5.231,8.74-8.873,11.337c-1.146,1.143-7.631,10.669-10.351,14.787c-2.579,3.904-7.657,13.699-8.873,18.237    c-2.515,9.391,0.97,21.254,2.465,28.589c0.114,0.559-0.234,15.626,0,22.181c-1.671,6.001-5.517,12.488-7.887,18.238    c-2.648,6.425-3.191,11.518-8.379,15.28c-0.677,13.506,0.289,26.086,6.408,34.011c3.67,4.753,17.75,26.617,17.75,26.617h103.556    c-4.199-9.163-6.543-19.353-6.543-30.091c0-39.936,32.374-72.309,72.309-72.309c39.936,0,72.309,32.373,72.309,72.309    c0,10.738-2.344,20.928-6.542,30.091h402.73c-4.199-9.163-6.543-19.353-6.543-30.091c0-39.936,32.374-72.309,72.31-72.309    c39.935,0,72.309,32.373,72.309,72.309c0,10.738-2.344,20.928-6.543,30.091h52.814c0,0,42.83-2.448,27.113-14.295    c1.69-3.969,1.966-9.907,4.929-13.801c0.863-0.626,2.618-0.877,3.943-0.986C944.569,371.2,940.757,349.183,936.447,342.828z     M141.876,237.839c0,0,5.372-5.028,7.887-6.901c7.176-5.345,13.777-11.422,21.195-16.759c11.72-8.431,25.772-20.819,39.433-26.617    c8.832-3.748,18.973-2.966,29.574-5.422c8.379-1.94,18.833-1.498,27.603-3.45c-0.968,0,22.181-0.985,21.195-0.985    s14.604-1.534,21.195-1.479c0,24.644,2.958,43.379,2.958,68.021C199.27,239.136,141.876,237.839,141.876,237.839z     M344.955,243.261l-4.437-68.515c0,0,37.014-3.078,72.95-3.199c36.759-0.125,72.458,2.706,72.458,2.706l7.395,76.895    L344.955,243.261z M533.739,254.104c0,0-11.337-78.389-11.337-78.878c0-0.49,66.874,8.717,94.639,20.222    c9.843,4.078,21.66,8.358,30.561,13.802c4.699,2.874,16.267,8.872,16.267,8.872l2.957,46.826L533.739,254.104z M776.516,361.612    c0.606-0.288,1.229-0.548,1.867-0.776v-21.254c-6.216,1.055-11.957,3.5-16.896,7.002L776.516,361.612z M792.289,399.698v21.253    c6.216-1.055,11.957-3.499,16.896-7.002l-15.027-15.028C793.55,399.209,792.928,399.47,792.289,399.698z M796.714,380.266    c0,1.449,1.175,2.624,2.624,2.624s2.623-1.175,2.623-2.624s-1.174-2.624-2.623-2.624S796.714,378.816,796.714,380.266z     M773.959,380.266c0-1.449-1.175-2.624-2.624-2.624s-2.624,1.175-2.624,2.624s1.175,2.624,2.624,2.624    S773.959,381.715,773.959,380.266z M785.336,368.889c1.449,0,2.624-1.175,2.624-2.624s-1.175-2.624-2.624-2.624    s-2.624,1.175-2.624,2.624S783.887,368.889,785.336,368.889z M809.184,346.585c-4.938-3.502-10.68-5.948-16.895-7.003v21.254    c0.638,0.228,1.26,0.49,1.866,0.777L809.184,346.585z M761.488,413.948c4.938,3.503,10.679,5.948,16.895,7.003v-21.253    c-0.639-0.229-1.26-0.49-1.867-0.778L761.488,413.948z M765.906,387.22H744.65c1.056,6.216,3.499,11.958,7.002,16.896    l15.027-15.027C766.393,388.481,766.135,387.857,765.906,387.22z M766.682,371.446l-15.028-15.028    c-3.503,4.938-5.947,10.68-7.002,16.896h21.254C766.134,372.675,766.395,372.053,766.682,371.446z"\n                                        fill="${n.color}" />\n                                </g>\n                            </g>\n                        </svg>\n                        <svg enable-background="new 0 0 50 50" height="50px" id="finish_${n.id}" class="finish_flag" version="1.1" viewBox="0 0 50 50">\n                                    <rect fill="none" height="50" width="50" />\n                                    <line fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"\n                                        stroke-width="2" x1="18.594" x2="3.373" y1="47.92" y2="5.407" />\n                                    <path\n                                        d="  M4.448,8.409c0,0,5.911-6.409,16.179-6.409c6.25,0,9.106,4.073,14.264,4.073C40.046,6.073,44.998,2,44.998,2v26.471  c0,0-3.723,2.037-8.146,2.037c-4.421,0-6.225-2.037-12.217-2.037c-5.683,0-11.025,5.516-11.025,5.516L4.448,8.409z"\n                                        fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"\n                                        stroke-width="2" />\n                                    <path d="M4.448,8.409c0,0,3.067-3.248,7.207-4.584l3.164,8.124c0,0-4.086,1.47-7.422,4.605L4.553,8.709" />\n                                    <path\n                                        d="M14.819,11.949l3.412,8.759c0,0,2.683-0.954,4.53-0.954s3.678,0.271,3.678,0.271l-2.477-9.315c0,0-0.7-0.099-1.563-0.099  C18.264,10.611,14.819,11.949,14.819,11.949z" />\n                                    <path d="M10.72,25.776l2.89,8.21c0,0,3.997-3.832,7.804-4.91l-3.182-8.368C14.566,22.12,10.72,25.776,10.72,25.776z" />\n                                    <path\n                                        d="M21.676,2.111l2.287,8.598c1.85,0,6.994,2.521,6.994,2.521l-2.028-8.879C27.766,3.916,24.721,2.255,21.676,2.111z" />\n                                    <path\n                                        d="M26.439,20.024l2.355,8.851c1.186,0,4.586,1.449,6.065,1.449l-1.988-8.702C30.957,21.124,27.859,20.223,26.439,20.024z" />\n                                    <path\n                                        d="M30.957,13.231l1.915,8.392c0,0,1.916,0.354,3.231,0.354c1.314,0,2.953-0.298,2.953-0.298l-0.622-7.684  c0,0-1.269,0.394-2.807,0.394C33.225,14.389,30.957,13.231,30.957,13.231z" />\n                                    <path d="M37.762,5.671l0.673,8.323c0,0,3.129-0.786,6.565-3.384L44.998,2C41.053,5.022,37.762,5.671,37.762,5.671z" />\n                                    <path d="M39.057,21.679c0,0,3.014-0.559,5.941-2.259v9.051c-3.117,1.496-5.261,1.767-5.261,1.767L39.057,21.679z" />\n                                </svg>\n                    </div>\n                    <hr>\n                </div>\n        `})),document.getElementById("garage-wrapper").innerHTML=t,document.getElementById("prev_page").disabled=1===Number(localStorage.current_page),document.getElementById("next_page").disabled=!(7*Number(localStorage.current_page)<Number(e.count)),Array.from(document.querySelectorAll(".remove")).forEach((n=>{n.addEventListener("click",(()=>{var e;return async function(n){await(async n=>(await fetch(`${v}/${n}`,{method:"DELETE"})).json())(n),await(async n=>(await fetch(`${y}/${n}`,{method:"DELETE"})).json())(n),await E()}(Number(null===(e=n.getAttribute("id"))||void 0===e?void 0:e.split("_")[1]))}))})),Array.from(document.querySelectorAll(".select")).forEach((n=>{n.addEventListener("click",(()=>{var e;return async function(n){localStorage.id_to_edit=n;const e=await b(n);document.getElementById("car-edit-name").value=e.name,document.getElementById("car-edit-color").value=e.color}(Number(null===(e=n.getAttribute("id"))||void 0===e?void 0:e.split("_")[1]))}))})),Array.from(document.querySelectorAll(".start")).forEach((n=>{n.addEventListener("click",(()=>{var e;return async function(n){x=[],document.getElementById(`start_${n}`).disabled=!0,document.getElementById(`stop_${n}`).disabled=!1;const e=await _(n),t=document.getElementById(`car_${n}`),r=function(n,e){const t=S(n),r=S(e);return Math.hypot(t.x-r.x,t.y-r.y)}(t,document.getElementById(`finish_${n}`)),a=t.animate([{transform:"translateX(0px)"},{transform:`translateX(${r+10}px)`}],{duration:e.distance/e.velocity,fill:"forwards"});return!1===(await M(n)).success?a.pause():1===x.push(n)&&(async function(n){const e=document.createElement("div"),t=await b(n);e.classList.add("notification"),e.innerHTML=`<p><span>${t.name}</span> (id: ${n}) won the race</p>`,document.getElementById("body").insertBefore(e,document.querySelector(".container")),setTimeout((()=>{const n=document.querySelector(".notification");n.parentNode.removeChild(n)}),3e3)}(n),(async(n,e)=>{const t=await(async n=>(await fetch(`${y}/${n}`)).status)(n);if(404===t)await(async n=>(await fetch(y,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}})).json())({id:n,wins:1,time:e});else{const t=await(async n=>(await fetch(`${y}/${n}`)).json())(n);await(async(n,e)=>(await fetch(`${y}/${n}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json"}})).json())(n,{id:n,wins:t.wins+1,time:e<t.time?e:t.time})}})(n,Math.floor(e.distance/e.velocity)/1e3)),document.getElementById(`start_${n}`).disabled=!1,n}(Number(null===(e=n.getAttribute("id"))||void 0===e?void 0:e.split("_")[1]))}))})),Array.from(document.querySelectorAll(".stop")).forEach((n=>{n.disabled=!0,n.addEventListener("click",(()=>{var e;return async function(n){await(async n=>(await fetch(`${f}?id=${n}&status=stopped`,{method:"PATCH"})).json())(n),document.getElementById(`car_${n}`).animate([{},{transform:"translateX(0px)"}],{fill:"forwards"}),document.getElementById(`stop_${n}`).disabled=!0,document.getElementById(`start_${n}`).disabled=!1}(Number(null===(e=n.getAttribute("id"))||void 0===e?void 0:e.split("_")[1]))}))}))}function S(n){const{top:e,left:t,width:r,height:a}=n.getBoundingClientRect();return{x:t+r/2,y:e+a/2}}var z,C,L,$;E(),document.getElementById("create").addEventListener("click",(async()=>{w(Object.fromEntries(new Map([["name",document.getElementById("car-create-name").value],["color",document.getElementById("car-create-color").value]]))),await E()})),document.getElementById("generate").addEventListener("click",(async()=>{const n=["Tesla","Opel","Mazda","Ferrari","Ford","Reno","McLaren","Lanos","Audi"],e=["13","Kuga","GT 40","F350","Magnum","Ascona","1990","R8"];for(let t=0;t<100;t++)w(Object.fromEntries(new Map([["name",n[Math.floor(Math.random()*n.length)].concat(" ",e[Math.floor(Math.random()*e.length)])],["color","#".concat(Math.floor(16777215*Math.random()).toString(16))]])));await E()})),document.getElementById("prev_page").addEventListener("click",(async()=>{localStorage.current_page=Number(localStorage.current_page)-1,await E()})),document.getElementById("next_page").addEventListener("click",(async()=>{localStorage.current_page=Number(localStorage.current_page)+1,await E()})),document.getElementById("update").addEventListener("click",(async()=>{0!==Number(localStorage.id_to_edit)&&(await(async(n,e)=>(await fetch(`${v}/${n}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json"}})).json())(Number(localStorage.id_to_edit),Object.fromEntries(new Map([["name",document.getElementById("car-edit-name").value],["color",document.getElementById("car-edit-color").value]]))),await E(),localStorage.id_to_edit=0,document.getElementById("car-edit-name").value="")})),document.getElementById("race").addEventListener("click",(()=>{Array.from(document.querySelectorAll(".start")).forEach((n=>{n.click()}))})),document.getElementById("reset").addEventListener("click",(()=>{Array.from(document.querySelectorAll(".stop")).forEach((n=>{n.click()}))})),localStorage.current_winners_page=1;let B="ASC";const I=10;function k(){B="ASC"===B?"DESC":"ASC"}async function N(n,e=7,t,r){const a=await(async(n,e=10,t,r)=>{const a=await fetch(`${y}?_page=${n}&_limit=${e}${((n,e)=>n&&e?`&_sort=${n}&_order=${e}`:"")(t,r)}`),c=await a.json();return{items:await Promise.all(c.map((async n=>Object.assign(Object.assign({},n),{car:await b(n.id)})))),count:a.headers.get("X-Total-Count")}})(n,e,t,r);document.getElementById("winners-page-counter").textContent=localStorage.current_winners_page,document.getElementById("winners-counter").textContent=a.count;let c="",o=1;a.items.forEach((n=>{var e,t,r,a;c+=(e=o,t=n.wins,r=n.time,a=n.car.name,`\n    <tr>\n        <th>${e}</th>\n        <th>${function(n){return`\n    <svg enable-background="new 0 0 1000 600" height="600" id="" overflow="visible" version="1.1"\n        viewBox="0 0 1000 600" width="1000" xml:space="preserve">\n        <g id="">\n            <g>\n                <path\n                    d="M251.072,391.644c-1.449,0-2.624,1.175-2.624,2.624s1.175,2.624,2.624,2.624s2.624-1.175,2.624-2.624    S252.521,391.644,251.072,391.644z M251.072,374.076c-3.419,0-6.19,2.771-6.19,6.19s2.771,6.19,6.19,6.19s6.191-2.771,6.191-6.19    S254.491,374.076,251.072,374.076z M242.251,361.612c0.607-0.288,1.229-0.548,1.867-0.776v-21.254    c-6.215,1.055-11.957,3.5-16.895,7.002L242.251,361.612z M251.072,312.688c-37.322,0-67.578,30.256-67.578,67.578    s30.255,67.578,67.578,67.578s67.578-30.256,67.578-67.578S288.395,312.688,251.072,312.688z M251.072,428.537    c-26.659,0-48.27-21.611-48.27-48.271c0-26.658,21.611-48.27,48.27-48.27s48.27,21.611,48.27,48.27    C299.342,406.926,277.731,428.537,251.072,428.537z M258.025,399.698v21.253c6.216-1.055,11.958-3.499,16.896-7.002    l-15.028-15.028C259.286,399.209,258.664,399.47,258.025,399.698z M270.502,373.313h21.256    c-1.056-6.216-3.499-11.958-7.002-16.896l-15.027,15.027C270.016,372.052,270.273,372.676,270.502,373.313z M269.727,389.087    l15.028,15.028c3.503-4.938,5.948-10.68,7.002-16.896h-21.254C270.275,387.857,270.014,388.48,269.727,389.087z M227.224,413.948    c4.938,3.503,10.679,5.948,16.895,7.003v-21.253c-0.638-0.229-1.259-0.49-1.866-0.778L227.224,413.948z M262.45,380.266    c0,1.449,1.175,2.624,2.624,2.624s2.624-1.175,2.624-2.624s-1.175-2.624-2.624-2.624S262.45,378.816,262.45,380.266z     M274.92,346.585c-4.938-3.502-10.679-5.948-16.895-7.003v21.254c0.638,0.228,1.259,0.49,1.866,0.777L274.92,346.585z     M251.072,368.889c1.449,0,2.624-1.175,2.624-2.624s-1.175-2.624-2.624-2.624s-2.624,1.175-2.624,2.624    S249.623,368.889,251.072,368.889z M231.643,387.22h-21.256c1.055,6.216,3.498,11.958,7.002,16.896l15.027-15.027    C232.129,388.481,231.872,387.857,231.643,387.22z M232.418,371.446l-15.028-15.028c-3.503,4.938-5.948,10.68-7.002,16.896h21.254    C231.87,372.675,232.131,372.053,232.418,371.446z M239.695,380.266c0-1.449-1.175-2.624-2.624-2.624    c-1.449,0-2.625,1.175-2.625,2.624s1.175,2.624,2.625,2.624C238.52,382.89,239.695,381.715,239.695,380.266z M785.336,374.076    c-3.419,0-6.19,2.771-6.19,6.19s2.771,6.19,6.19,6.19s6.19-2.771,6.19-6.19S788.755,374.076,785.336,374.076z M785.336,391.644    c-1.449,0-2.624,1.175-2.624,2.624s1.175,2.624,2.624,2.624s2.624-1.175,2.624-2.624S786.785,391.644,785.336,391.644z     M804.766,373.313h21.256c-1.056-6.216-3.499-11.958-7.002-16.896l-15.028,15.027    C804.279,372.052,804.537,372.676,804.766,373.313z M785.336,312.688c-37.322,0-67.578,30.256-67.578,67.578    s30.256,67.578,67.578,67.578s67.578-30.256,67.578-67.578S822.658,312.688,785.336,312.688z M785.336,428.537    c-26.658,0-48.27-21.611-48.27-48.271c0-26.658,21.611-48.27,48.27-48.27c26.659,0,48.27,21.611,48.27,48.27    C833.605,406.926,811.995,428.537,785.336,428.537z M803.99,389.087l15.028,15.028c3.503-4.938,5.947-10.68,7.002-16.896h-21.254    C804.539,387.857,804.278,388.48,803.99,389.087z M936.447,342.828c-1.252-1.845-4.856-2.665-5.915-4.436    c-1.417-2.369-1.364-7.17-2.465-9.858c-9.218-22.513-19.371-29.408-32.532-37.461c-18.479-11.308-38.207-15.987-60.135-24.153    c1.057,0.394-33.068-8.901-41.404-10.351c-5.126-1.68-23.627-7.028-28.096-5.422c-4.913-5.075-13.582-7.57-19.717-11.337    c-9.902-6.081-20.112-12.629-30.067-18.73c-5.321-3.262-10.92-5.121-16.266-8.38c-13.837-8.436-44.362-22.181-44.362-22.181    s-112.554-63.401-509.176-28.589c-4.79,0.466-10.684,0.14-14.294,2.465c-0.493,0.164-0.986,0.328-1.479,0.492    c0.087,3.815,1.864,15.823,0,18.73c-0.563,4.381-9.026,11.135-11.83,14.295c-6.536,7.366-13.401,15.301-19.223,23.167    c-2.676,3.615-5.231,8.74-8.873,11.337c-1.146,1.143-7.631,10.669-10.351,14.787c-2.579,3.904-7.657,13.699-8.873,18.237    c-2.515,9.391,0.97,21.254,2.465,28.589c0.114,0.559-0.234,15.626,0,22.181c-1.671,6.001-5.517,12.488-7.887,18.238    c-2.648,6.425-3.191,11.518-8.379,15.28c-0.677,13.506,0.289,26.086,6.408,34.011c3.67,4.753,17.75,26.617,17.75,26.617h103.556    c-4.199-9.163-6.543-19.353-6.543-30.091c0-39.936,32.374-72.309,72.309-72.309c39.936,0,72.309,32.373,72.309,72.309    c0,10.738-2.344,20.928-6.542,30.091h402.73c-4.199-9.163-6.543-19.353-6.543-30.091c0-39.936,32.374-72.309,72.31-72.309    c39.935,0,72.309,32.373,72.309,72.309c0,10.738-2.344,20.928-6.543,30.091h52.814c0,0,42.83-2.448,27.113-14.295    c1.69-3.969,1.966-9.907,4.929-13.801c0.863-0.626,2.618-0.877,3.943-0.986C944.569,371.2,940.757,349.183,936.447,342.828z     M141.876,237.839c0,0,5.372-5.028,7.887-6.901c7.176-5.345,13.777-11.422,21.195-16.759c11.72-8.431,25.772-20.819,39.433-26.617    c8.832-3.748,18.973-2.966,29.574-5.422c8.379-1.94,18.833-1.498,27.603-3.45c-0.968,0,22.181-0.985,21.195-0.985    s14.604-1.534,21.195-1.479c0,24.644,2.958,43.379,2.958,68.021C199.27,239.136,141.876,237.839,141.876,237.839z     M344.955,243.261l-4.437-68.515c0,0,37.014-3.078,72.95-3.199c36.759-0.125,72.458,2.706,72.458,2.706l7.395,76.895    L344.955,243.261z M533.739,254.104c0,0-11.337-78.389-11.337-78.878c0-0.49,66.874,8.717,94.639,20.222    c9.843,4.078,21.66,8.358,30.561,13.802c4.699,2.874,16.267,8.872,16.267,8.872l2.957,46.826L533.739,254.104z M776.516,361.612    c0.606-0.288,1.229-0.548,1.867-0.776v-21.254c-6.216,1.055-11.957,3.5-16.896,7.002L776.516,361.612z M792.289,399.698v21.253    c6.216-1.055,11.957-3.499,16.896-7.002l-15.027-15.028C793.55,399.209,792.928,399.47,792.289,399.698z M796.714,380.266    c0,1.449,1.175,2.624,2.624,2.624s2.623-1.175,2.623-2.624s-1.174-2.624-2.623-2.624S796.714,378.816,796.714,380.266z     M773.959,380.266c0-1.449-1.175-2.624-2.624-2.624s-2.624,1.175-2.624,2.624s1.175,2.624,2.624,2.624    S773.959,381.715,773.959,380.266z M785.336,368.889c1.449,0,2.624-1.175,2.624-2.624s-1.175-2.624-2.624-2.624    s-2.624,1.175-2.624,2.624S783.887,368.889,785.336,368.889z M809.184,346.585c-4.938-3.502-10.68-5.948-16.895-7.003v21.254    c0.638,0.228,1.26,0.49,1.866,0.777L809.184,346.585z M761.488,413.948c4.938,3.503,10.679,5.948,16.895,7.003v-21.253    c-0.639-0.229-1.26-0.49-1.867-0.778L761.488,413.948z M765.906,387.22H744.65c1.056,6.216,3.499,11.958,7.002,16.896    l15.027-15.027C766.393,388.481,766.135,387.857,765.906,387.22z M766.682,371.446l-15.028-15.028    c-3.503,4.938-5.947,10.68-7.002,16.896h21.254C766.134,372.675,766.395,372.053,766.682,371.446z"\n                    fill="${n}" />\n            </g>\n        </g>\n    </svg>\n    `}(n.car.color)}</th>\n        <th>${a}</th>\n        <th>${t}</th>\n        <th>${r}</th>\n    </tr>\n    `),o++})),document.querySelector("tbody").innerHTML=c,document.getElementById("winners_prev_page").disabled=1===Number(localStorage.current_winners_page),document.getElementById("winners_next_page").disabled=!(I*Number(localStorage.current_winners_page)<Number(a.count))}(()=>{const n=document.createElement("div");n.classList.add("winners"),n.classList.add("display"),n.innerHTML='\n    <h2>Winners (<span id="winners-counter">0</span>)</h2>\n    <h3>Page #<span id="winners-page-counter">1</span></h3>\n    <div class="winners-wrapper">\n        <table>\n            <thead>\n                <th id="winner_id">Number</th>\n                <th>Car</th>\n                <th>Name</th>\n                <th id="winner_wins">Wins</th>\n                <th id="winner_time">Best time (sec)</th>\n            </thead>\n            <tbody>\n            \n            </tbody>\n            \n        </table>\n    </div>\n    <div class="controls">\n        <button id="winners_prev_page">Previous</button>\n        <button id="winners_next_page">Next</button>\n    </div>\n    ',document.querySelector(".container").insertBefore(n,document.querySelector(".garage-container")),N(Number(localStorage.current_winners_page),I,"id",B),document.getElementById("winners_prev_page").disabled=!0,document.getElementById("garage").disabled=!0})(),document.getElementById("winners_prev_page").addEventListener("click",(async()=>{localStorage.current_winners_page=Number(localStorage.current_winners_page)-1,await N(Number(localStorage.current_winners_page),I,"id",B)})),document.getElementById("winners_next_page").addEventListener("click",(async()=>{localStorage.current_winners_page=Number(localStorage.current_winners_page)+1,await N(Number(localStorage.current_winners_page),I,"id",B)})),null===(z=document.getElementById("winner_wins"))||void 0===z||z.addEventListener("click",(()=>{k(),N(Number(localStorage.current_winners_page),I,"wins",B)})),null===(C=document.getElementById("winner_time"))||void 0===C||C.addEventListener("click",(()=>{k(),N(Number(localStorage.current_winners_page),I,"time",B)})),null===(L=document.getElementById("winners"))||void 0===L||L.addEventListener("click",(()=>{document.querySelector(".winners").classList.toggle("display"),document.querySelector(".garage-container").classList.toggle("display"),document.getElementById("garage").disabled=!1,document.getElementById("winners").disabled=!0,N(Number(localStorage.current_winners_page),I,"id",B)})),null===($=document.getElementById("garage"))||void 0===$||$.addEventListener("click",(()=>{document.querySelector(".winners").classList.toggle("display"),document.querySelector(".garage-container").classList.toggle("display"),document.getElementById("garage").disabled=!0,document.getElementById("winners").disabled=!1}))})()})();